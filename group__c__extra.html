<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmdbx: Extra operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libmdbx
   &#160;<span id="projectnumber">0.8.2.14 (2020-07-25T04:34:15+03:00)</span>
   </div>
   <div id="projectbrief">One of the fastest embeddable key-value ACID database without WAL.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__c__extra.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Extra operations<div class="ingroups"><a class="el" href="group__c__api.html">C API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__btree__traversal"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__btree__traversal.html">B-tree Traversal</a></td></tr>
<tr class="memdesc:group__btree__traversal"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is internal API for mdbx_chk tool. You should avoid to use it, except some extremal special cases. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8751dcaa7c51fa1c5acf2b3a46f750bc"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__c__extra.html#ga1a81f83c4374e9a768842215628914ca">MDBX_copy_flags_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga8751dcaa7c51fa1c5acf2b3a46f750bc">MDBX_copy_flags_t</a></td></tr>
<tr class="separator:ga8751dcaa7c51fa1c5acf2b3a46f750bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga1a81f83c4374e9a768842215628914ca"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga1a81f83c4374e9a768842215628914ca">MDBX_copy_flags_t</a> { <a class="el" href="group__c__extra.html#gga1a81f83c4374e9a768842215628914caa4aaba6490c1c588c12c4ddfa361397b8">MDBX_CP_DEFAULTS</a> = 0, 
<a class="el" href="group__c__extra.html#gga1a81f83c4374e9a768842215628914caa5948ed9a8b8cabe4de4cffc3dc5a4a70">MDBX_CP_COMPACT</a> = 1u, 
<a class="el" href="group__c__extra.html#gga1a81f83c4374e9a768842215628914caaaf15be75235dfd417f57422ea9c8826f">MDBX_CP_FORCE_DYNAMIC_SIZE</a> = 2u
 }</td></tr>
<tr class="separator:ga1a81f83c4374e9a768842215628914ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga59cdb3b05b3d998377bdf38a53b912ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga59cdb3b05b3d998377bdf38a53b912ec">mdbx_env_copy</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, const char *dest, unsigned flags)</td></tr>
<tr class="separator:ga59cdb3b05b3d998377bdf38a53b912ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fc3da070ae32a8a451539151553b6ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga5fc3da070ae32a8a451539151553b6ed">mdbx_env_copy2fd</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, <a class="el" href="group__c__api.html#gab037794c5da06d37484e93f4b4c65791">mdbx_filehandle_t</a> fd, unsigned flags)</td></tr>
<tr class="separator:ga5fc3da070ae32a8a451539151553b6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf86c3521f875ccea1256b8a02656393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#gacf86c3521f875ccea1256b8a02656393">mdbx_env_sync_ex</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, int force, int nonblock)</td></tr>
<tr class="separator:gacf86c3521f875ccea1256b8a02656393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9493cc7144e521f2c2aebae5be06ba5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga9493cc7144e521f2c2aebae5be06ba5c">mdbx_env_sync</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env)</td></tr>
<tr class="separator:ga9493cc7144e521f2c2aebae5be06ba5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46554a323923f5181ad9a98f23f01018"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga46554a323923f5181ad9a98f23f01018">mdbx_env_sync_poll</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env)</td></tr>
<tr class="separator:ga46554a323923f5181ad9a98f23f01018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47868c0824f38ee163fa01aaf16b58a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga47868c0824f38ee163fa01aaf16b58a6">mdbx_is_readahead_reasonable</a> (size_t volume, intptr_t redundancy)</td></tr>
<tr class="separator:ga47868c0824f38ee163fa01aaf16b58a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1681c8f7411f63630a6ad13e3f3380a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__crud.html#ga26ae0db0b25dcfccbc996a7d70767172">MDBX_cmp_func</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga1681c8f7411f63630a6ad13e3f3380a0">mdbx_get_keycmp</a> (unsigned flags)</td></tr>
<tr class="separator:ga1681c8f7411f63630a6ad13e3f3380a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ce13e608f1ff54b6cafb5497b081adf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__crud.html#ga26ae0db0b25dcfccbc996a7d70767172">MDBX_cmp_func</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga7ce13e608f1ff54b6cafb5497b081adf">mdbx_get_datacmp</a> (unsigned flags)</td></tr>
<tr class="separator:ga7ce13e608f1ff54b6cafb5497b081adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15d520b1259aa361a4214f8d8f88c6c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__extra.html#ga15d520b1259aa361a4214f8d8f88c6c5">mdbx_reader_check</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, int *dead)</td></tr>
<tr class="separator:ga15d520b1259aa361a4214f8d8f88c6c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga8751dcaa7c51fa1c5acf2b3a46f750bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8751dcaa7c51fa1c5acf2b3a46f750bc">&#9670;&nbsp;</a></span>MDBX_copy_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__c__extra.html#ga1a81f83c4374e9a768842215628914ca">MDBX_copy_flags_t</a> <a class="el" href="group__c__extra.html#ga1a81f83c4374e9a768842215628914ca">MDBX_copy_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga1a81f83c4374e9a768842215628914ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a81f83c4374e9a768842215628914ca">&#9670;&nbsp;</a></span>MDBX_copy_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__c__extra.html#ga1a81f83c4374e9a768842215628914ca">MDBX_copy_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ENVIRONMENT COPY FLAGS </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1a81f83c4374e9a768842215628914caa4aaba6490c1c588c12c4ddfa361397b8"></a>MDBX_CP_DEFAULTS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga1a81f83c4374e9a768842215628914caa5948ed9a8b8cabe4de4cffc3dc5a4a70"></a>MDBX_CP_COMPACT&#160;</td><td class="fielddoc"><p>Copy with compactification: Omit free space from copy and renumber all pages sequentially </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1a81f83c4374e9a768842215628914caaaf15be75235dfd417f57422ea9c8826f"></a>MDBX_CP_FORCE_DYNAMIC_SIZE&#160;</td><td class="fielddoc"><p>Force to make resizeable copy, i.e. dynamic size instead of fixed </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga59cdb3b05b3d998377bdf38a53b912ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59cdb3b05b3d998377bdf38a53b912ec">&#9670;&nbsp;</a></span>mdbx_env_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy an MDBX environment to the specified path, with options.</p>
<p>This function may be used to make a backup of an existing environment. No lockfile is created, since it gets recreated at need. </p><dl class="section note"><dt>Note</dt><dd>This call can trigger significant file size growth if run in parallel with write transactions, because it employs a read-only transaction. See long-lived transactions under "Caveats" section.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__api.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. It must have already been opened successfully. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>The pathname of a file in which the copy will reside. This file must not be already exist, but parent directory must be writable. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Special options for this operation. This parameter must be set to 0 or by bitwise OR'ing together one or more of the values described here:</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>MDBX_CP_COMPACT Perform compaction while copying: omit free pages and sequentially renumber all pages in output. This option consumes little bit more CPU for processing, but may running quickly than the default, on account skipping free pages.</li>
<li>MDBX_CP_FORCE_DYNAMIC_SIZE Force to make resizeable copy, i.e. dynamic size instead of fixed.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
<a id="ga5fc3da070ae32a8a451539151553b6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5fc3da070ae32a8a451539151553b6ed">&#9670;&nbsp;</a></span>mdbx_env_copy2fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_copy2fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gab037794c5da06d37484e93f4b4c65791">mdbx_filehandle_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy an MDBX environment to the specified file descriptor, with options.</p>
<p>This function may be used to make a backup of an existing environment. No lockfile is created, since it gets recreated at need. See <a class="el" href="group__c__extra.html#ga59cdb3b05b3d998377bdf38a53b912ec">mdbx_env_copy()</a> for further details.</p>
<dl class="section note"><dt>Note</dt><dd>This call can trigger significant file size growth if run in parallel with write transactions, because it employs a read-only transaction. See long-lived transactions under "Caveats" section.</dd>
<dd>
Fails if the environment has suffered a page leak and the destination file descriptor is associated with a pipe, socket, or FIFO.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__api.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. It must have already been opened successfully. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>The file descriptor to write the copy to. It must have already been opened for Write access. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Special options for this operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__c__extra.html#ga59cdb3b05b3d998377bdf38a53b912ec">mdbx_env_copy()</a> for options.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success. </dd></dl>

</div>
</div>
<a id="ga9493cc7144e521f2c2aebae5be06ba5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9493cc7144e521f2c2aebae5be06ba5c">&#9670;&nbsp;</a></span>mdbx_env_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The shortcut to calling <a class="el" href="group__c__extra.html#gacf86c3521f875ccea1256b8a02656393">mdbx_env_sync_ex()</a> with the force=true and nonblock=false arguments. </p>

</div>
</div>
<a id="gacf86c3521f875ccea1256b8a02656393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf86c3521f875ccea1256b8a02656393">&#9670;&nbsp;</a></span>mdbx_env_sync_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_sync_ex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nonblock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flush the environment data buffers to disk.</p>
<p>Unless the environment was opened with no-sync flags (MDBX_NOMETASYNC, MDBX_SAFE_NOSYNC, MDBX_UTTERLY_NOSYNC and MDBX_MAPASYNC), then data is always written an flushed to disk when <a class="el" href="group__c__transactions.html#ga26ef82044b516a76e2f22192cfeee84a">mdbx_txn_commit()</a> is called. Otherwise <a class="el" href="group__c__extra.html#ga9493cc7144e521f2c2aebae5be06ba5c">mdbx_env_sync()</a> may be called to manually write and flush unsynced data to disk.</p>
<p>Besides, <a class="el" href="group__c__extra.html#gacf86c3521f875ccea1256b8a02656393">mdbx_env_sync_ex()</a> with argument force=false may be used to provide polling mode for lazy/asynchronous sync in conjunction with <a class="el" href="group__c__settings.html#ga51eab1b19e62a726aebbaad076f81bb4">mdbx_env_set_syncbytes()</a> and/or <a class="el" href="group__c__settings.html#ga742c5eb45bdccfb18714f36ded683bf5">mdbx_env_set_syncperiod()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>This call is not valid if the environment was opened with MDBX_RDONLY.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__api.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">force</td><td>If non-zero, force a flush. Otherwise, If force is zero, then will run in polling mode, i.e. it will check the thresholds that were set <a class="el" href="group__c__settings.html#ga51eab1b19e62a726aebbaad076f81bb4">mdbx_env_set_syncbytes()</a> and/or <a class="el" href="group__c__settings.html#ga742c5eb45bdccfb18714f36ded683bf5">mdbx_env_set_syncperiod()</a> and perform flush if at least one of the thresholds is reached.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nonblock</td><td>Don't wait if write transaction is running by other thread.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and MDBX_RESULT_TRUE or 0 on success. The MDBX_RESULT_TRUE means no data pending for flush to disk, and 0 otherwise. Some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_EACCES</td><td>the environment is read-only. </td></tr>
    <tr><td class="paramname">MDBX_BUSY</td><td>the environment is used by other thread and nonblock=true. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>an invalid parameter was specified. </td></tr>
    <tr><td class="paramname">MDBX_EIO</td><td>an error occurred during synchronization. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga46554a323923f5181ad9a98f23f01018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46554a323923f5181ad9a98f23f01018">&#9670;&nbsp;</a></span>mdbx_env_sync_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_env_sync_poll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The shortcut to calling <a class="el" href="group__c__extra.html#gacf86c3521f875ccea1256b8a02656393">mdbx_env_sync_ex()</a> with the force=false and nonblock=true arguments. </p>

</div>
</div>
<a id="ga7ce13e608f1ff54b6cafb5497b081adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ce13e608f1ff54b6cafb5497b081adf">&#9670;&nbsp;</a></span>mdbx_get_datacmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__crud.html#ga26ae0db0b25dcfccbc996a7d70767172">MDBX_cmp_func</a>* mdbx_get_datacmp </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns default internal data's comparator for given database flags </p>

</div>
</div>
<a id="ga1681c8f7411f63630a6ad13e3f3380a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1681c8f7411f63630a6ad13e3f3380a0">&#9670;&nbsp;</a></span>mdbx_get_keycmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__crud.html#ga26ae0db0b25dcfccbc996a7d70767172">MDBX_cmp_func</a>* mdbx_get_keycmp </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns default internal key's comparator for given database flags. </p>

</div>
</div>
<a id="ga47868c0824f38ee163fa01aaf16b58a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47868c0824f38ee163fa01aaf16b58a6">&#9670;&nbsp;</a></span>mdbx_is_readahead_reasonable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_is_readahead_reasonable </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>redundancy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find out whether to use readahead or not, based on the given database size and the amount of available memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">volume</td><td>The expected database size in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">redundancy</td><td>Additional reserve or overload in case of negative value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A MDBX_RESULT_TRUE or MDBX_RESULT_FALSE value, otherwise the error code: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_RESULT_TRUE</td><td>Readahead is reasonable. </td></tr>
    <tr><td class="paramname">MDBX_RESULT_FALSE</td><td>Readahead is NOT reasonable, i.e. MDBX_NORDAHEAD is useful to open environment by <a class="el" href="group__c__api.html#gad10298affb4aa00f4281354d91169e49">mdbx_env_open()</a>. </td></tr>
    <tr><td class="paramname">Otherwise</td><td>the error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga15d520b1259aa361a4214f8d8f88c6c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15d520b1259aa361a4214f8d8f88c6c5">&#9670;&nbsp;</a></span>mdbx_reader_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_reader_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check for stale entries in the reader lock table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__api.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dead</td><td>Number of stale slots that were cleared.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, or MDBX_RESULT_TRUE (-1) if a dead reader(s) found or mutex was recovered. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
