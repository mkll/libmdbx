<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmdbx: Transactions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libmdbx
   &#160;<span id="projectnumber">0.8.2.14 (2020-07-25T04:34:15+03:00)</span>
   </div>
   <div id="projectbrief">One of the fastest embeddable key-value ACID database without WAL.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__c__transactions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Transactions<div class="ingroups"><a class="el" href="group__c__api.html">C API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gad3eb5aa2a23beb3dc6274c46dc236546"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a></td></tr>
<tr class="separator:gad3eb5aa2a23beb3dc6274c46dc236546"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0ca4fdfd91d29a5109ce89829d61d68a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga0ca4fdfd91d29a5109ce89829d61d68a">mdbx_txn_begin</a> (<a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *env, <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *parent, unsigned flags, <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> **txn)</td></tr>
<tr class="separator:ga0ca4fdfd91d29a5109ce89829d61d68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga281a326b4ca1878f155d718c7aa84409"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga281a326b4ca1878f155d718c7aa84409">mdbx_txn_env</a> (const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="separator:ga281a326b4ca1878f155d718c7aa84409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4adb6ddadc77a05797026c3d4c18056e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga4adb6ddadc77a05797026c3d4c18056e">mdbx_txn_flags</a> (const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="separator:ga4adb6ddadc77a05797026c3d4c18056e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26ef82044b516a76e2f22192cfeee84a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga26ef82044b516a76e2f22192cfeee84a">mdbx_txn_commit</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="separator:ga26ef82044b516a76e2f22192cfeee84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9773fd77d15cc810fc4eff0060f1a596"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="separator:ga9773fd77d15cc810fc4eff0060f1a596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9f34737fe60b0ba538d5a09b6a25c8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gae9f34737fe60b0ba538d5a09b6a25c8d">mdbx_txn_reset</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="separator:gae9f34737fe60b0ba538d5a09b6a25c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3cd3707d0154f81f7f73484068246d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__transactions.html#gaf3cd3707d0154f81f7f73484068246d1">mdbx_txn_renew</a> (<a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *txn)</td></tr>
<tr class="separator:gaf3cd3707d0154f81f7f73484068246d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gad3eb5aa2a23beb3dc6274c46dc236546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3eb5aa2a23beb3dc6274c46dc236546">&#9670;&nbsp;</a></span>MDBX_txn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opaque structure for a transaction handle.</p>
<p>All database operations require a transaction handle. Transactions may be read-only or read-write. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9773fd77d15cc810fc4eff0060f1a596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9773fd77d15cc810fc4eff0060f1a596">&#9670;&nbsp;</a></span>mdbx_txn_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Abandon all the operations of the transaction instead of saving them.</p>
<p>The transaction handle is freed. It and its cursors must not be used again after this call, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</p>
<p>If the current thread is not eligible to manage the transaction then the MDBX_THREAD_MISMATCH error will returned. Otherwise the transaction will be aborted and its handle is freed. Thus, a result other than MDBX_THREAD_MISMATCH means that the transaction is terminated:</p><ul>
<li>Resources are released;</li>
<li>Transaction handle is invalid;</li>
<li>Cursor(s) associated with transaction must not be used, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>. Such cursor(s) must be closed explicitly by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a> before or after transaction abort, either can be reused with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> until it will be explicitly closed by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga0ca4fdfd91d29a5109ce89829d61d68a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already fihished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0ca4fdfd91d29a5109ce89829d61d68a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ca4fdfd91d29a5109ce89829d61d68a">&#9670;&nbsp;</a></span>mdbx_txn_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> **&#160;</td>
          <td class="paramname"><em>txn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a transaction for use with the environment.</p>
<p>The transaction handle may be discarded using <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> or <a class="el" href="group__c__transactions.html#ga26ef82044b516a76e2f22192cfeee84a">mdbx_txn_commit()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>A transaction and its cursors must only be used by a single thread, and a thread may only have a single transaction at a time. If MDBX_NOTLS is in use, this does not apply to read-only transactions.</dd>
<dd>
Cursors may not span transactions.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>An environment handle returned by <a class="el" href="group__c__api.html#ga109eb833997698fbb77912716596fe8e">mdbx_env_create()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>If this parameter is non-NULL, the new transaction will be a nested transaction, with the transaction indicated by parent as its parent. Transactions may be nested to any level. A parent transaction and its cursors may not issue any other operations than mdbx_txn_commit and <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> while it has active child transactions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Special options for this transaction. This parameter must be set to 0 or by bitwise OR'ing together one or more of the values described here:<ul>
<li>MDBX_RDONLY This transaction will not perform any write operations.</li>
<li>MDBX_TRYTXN Do not block when starting a write transaction.</li>
<li>MDBX_SAFE_NOSYNC, MDBX_NOMETASYNC or MDBX_MAPASYNC Do not sync data to disk corresponding to MDBX_NOMETASYNC or MDBX_SAFE_NOSYNC description, see <a class="el" href="group__sync__modes.html">SYNC MODES</a>.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">txn</td><td>Address where the new MDBX_txn handle will be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_UNABLE_EXTEND_MAPSIZE</td><td>Another process wrote data beyond this MDBX_env's mapsize and this environment map must be resized as well. See <a class="el" href="group__c__settings.html#ga176c15b89d2622b0bdee7ac2317725ac">mdbx_env_set_mapsize()</a>. </td></tr>
    <tr><td class="paramname">MDBX_READERS_FULL</td><td>A read-only transaction was requested and the reader lock table is full. See <a class="el" href="group__c__settings.html#ga58ad442a0d1d5259efbb9ac6b34813d8">mdbx_env_set_maxreaders()</a>. </td></tr>
    <tr><td class="paramname">MDBX_ENOMEM</td><td>Out of memory. </td></tr>
    <tr><td class="paramname">MDBX_BUSY</td><td>The write transaction is already started by the current thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga26ef82044b516a76e2f22192cfeee84a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26ef82044b516a76e2f22192cfeee84a">&#9670;&nbsp;</a></span>mdbx_txn_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commit all the operations of a transaction into the database.</p>
<p>If the current thread is not eligible to manage the transaction then the MDBX_THREAD_MISMATCH error will returned. Otherwise the transaction will be committed and its handle is freed. If the transaction cannot be committed, it will be aborted with the corresponding error returned.</p>
<p>Thus, a result other than MDBX_THREAD_MISMATCH means that the transaction is terminated:</p><ul>
<li>Resources are released;</li>
<li>Transaction handle is invalid;</li>
<li>Cursor(s) associated with transaction must not be used, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>. Such cursor(s) must be closed explicitly by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a> before or after transaction commit, either can be reused with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> until it will be explicitly closed by <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga0ca4fdfd91d29a5109ce89829d61d68a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_RESULT_TRUE</td><td>Transaction was aborted since it should be aborted due to previous errors. </td></tr>
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already fihished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
    <tr><td class="paramname">MDBX_ENOSPC</td><td>No more disk space. </td></tr>
    <tr><td class="paramname">MDBX_EIO</td><td>A system-level I/O error occurred. </td></tr>
    <tr><td class="paramname">MDBX_ENOMEM</td><td>Out of memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga281a326b4ca1878f155d718c7aa84409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga281a326b4ca1878f155d718c7aa84409">&#9670;&nbsp;</a></span>mdbx_txn_env()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> <a class="el" href="group__c__api.html#gaaf0e4c9dc12dce0c2a98566436c94222">MDBX_env</a>* mdbx_txn_env </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the transaction's MDBX_env.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga0ca4fdfd91d29a5109ce89829d61d68a">mdbx_txn_begin()</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4adb6ddadc77a05797026c3d4c18056e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4adb6ddadc77a05797026c3d4c18056e">&#9670;&nbsp;</a></span>mdbx_txn_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_flags </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the transaction's flags.</p>
<p>This returns the flags associated with this transaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga0ca4fdfd91d29a5109ce89829d61d68a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A transaction flags, valid if input is an valid transaction, otherwise -1. </dd></dl>

</div>
</div>
<a id="gaf3cd3707d0154f81f7f73484068246d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3cd3707d0154f81f7f73484068246d1">&#9670;&nbsp;</a></span>mdbx_txn_renew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_renew </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Renew a read-only transaction.</p>
<p>This acquires a new reader lock for a transaction handle that had been released by <a class="el" href="group__c__transactions.html#gae9f34737fe60b0ba538d5a09b6a25c8d">mdbx_txn_reset()</a>. It must be called before a reset transaction may be used again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga0ca4fdfd91d29a5109ce89829d61d68a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already fihished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae9f34737fe60b0ba538d5a09b6a25c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9f34737fe60b0ba538d5a09b6a25c8d">&#9670;&nbsp;</a></span>mdbx_txn_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__macros.html#ga3ff81c5c75bd3d7836f03a05649d5e8f">LIBMDBX_API</a> int mdbx_txn_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__c__transactions.html#gad3eb5aa2a23beb3dc6274c46dc236546">MDBX_txn</a> *&#160;</td>
          <td class="paramname"><em>txn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset a read-only transaction.</p>
<p>Abort the read-only transaction like <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a>, but keep the transaction handle. Therefore <a class="el" href="group__c__transactions.html#gaf3cd3707d0154f81f7f73484068246d1">mdbx_txn_renew()</a> may reuse the handle. This saves allocation overhead if the process will start a new read-only transaction soon, and also locking overhead if MDBX_NOTLS is in use. The reader table lock is released, but the table slot stays tied to its thread or MDBX_txn. Use <a class="el" href="group__c__transactions.html#ga9773fd77d15cc810fc4eff0060f1a596">mdbx_txn_abort()</a> to discard a reset handle, and to free its lock table slot if MDBX_NOTLS is in use.</p>
<p>Cursors opened within the transaction must not be used again after this call, except with <a class="el" href="group__c__cursors.html#gac3de6997b14c5ef0f0bc7f7e87fab32a">mdbx_cursor_renew()</a> and <a class="el" href="group__c__cursors.html#gacc2a457fd66edc35ab44f15cd0563341">mdbx_cursor_close()</a>.</p>
<p>Reader locks generally don't interfere with writers, but they keep old versions of database pages allocated. Thus they prevent the old pages from being reused when writers commit new data, and so under heavy load the database size may grow much more rapidly than otherwise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">txn</td><td>A transaction handle returned by <a class="el" href="group__c__transactions.html#ga0ca4fdfd91d29a5109ce89829d61d68a">mdbx_txn_begin()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A non-zero error value on failure and 0 on success, some possible errors are: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MDBX_PANIC</td><td>A fatal error occurred earlier and the environment must be shut down. </td></tr>
    <tr><td class="paramname">MDBX_BAD_TXN</td><td>Transaction is already fihished or never began. </td></tr>
    <tr><td class="paramname">MDBX_EBADSIGN</td><td>Transaction object has invalid signature, e.g. transaction was already terminated or memory was corrupted. </td></tr>
    <tr><td class="paramname">MDBX_THREAD_MISMATCH</td><td>Given transaction is not owned by current thread. </td></tr>
    <tr><td class="paramname">MDBX_EINVAL</td><td>Transaction handle is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
